(function(t){function n(n){for(var r,a,o=n[0],c=n[1],u=n[2],h=0,l=[];h<o.length;h++)a=o[h],Object.prototype.hasOwnProperty.call(e,a)&&e[a]&&l.push(e[a][0]),e[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);f&&f(n);while(l.length)l.shift()();return s.push.apply(s,u||[]),i()}function i(){for(var t,n=0;n<s.length;n++){for(var i=s[n],r=!0,o=1;o<i.length;o++){var c=i[o];0!==e[c]&&(r=!1)}r&&(s.splice(n--,1),t=a(a.s=i[0]))}return t}var r={},e={app:0},s=[];function a(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=t,a.c=r,a.d=function(t,n,i){a.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,n){if(1&n&&(t=a(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)a.d(i,r,function(n){return t[n]}.bind(null,r));return i},a.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(n,"a",n),n},a.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},a.p="/landmine/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=n,o=o.slice();for(var u=0;u<o.length;u++)n(o[u]);var f=c;s.push([0,"chunk-vendors"]),i()})({0:function(t,n,i){t.exports=i("56d7")},"034f":function(t,n,i){"use strict";var r=i("85ec"),e=i.n(r);e.a},"2cfa":function(t,n,i){},"55db":function(t,n,i){t.exports=i.p+"img/boom.1aa6e10e.jpg"},"56d7":function(t,n,i){"use strict";i.r(n);i("e260"),i("e6cf"),i("cca6"),i("a79d");var r=i("2b0e"),e=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{attrs:{id:"app"}},[i("Mini")],1)},s=[],a=function(){var t=this,n=t.$createElement,r=t._self._c||n;return r("div",{staticClass:"game"},[r("div",{staticClass:"timer"},[r("span",{domProps:{innerHTML:t._s(t.timer)},model:{value:t.timer,callback:function(n){t.timer=n},expression:"timer"}}),r("span",[t._v("地雷總數 : "+t._s(t.miniCount))])]),t.boom?r("div",{staticClass:"boom"},[r("img",{attrs:{src:i("55db")},on:{click:function(n){return t.restart()}}})]):t._e(),t.win?r("div",{staticClass:"win"},[r("img",{attrs:{src:i("a6a1")},on:{click:function(n){return t.restart()}}})]):r("div",{staticClass:"content"},t._l(t.dataAry,(function(n,e){return r("div",{staticClass:"row"},t._l(n,(function(n,e,s){return r("div",{key:e,staticClass:"col btn",class:{opened:""==n.z,openNum:!isNaN(parseInt(n.z))},on:{click:function(i){return t.clickResult(n.x,n.y)},contextmenu:function(i){return i.preventDefault(),t.flag(n.x,n.y)}}},["p"==n.z?r("img",{attrs:{src:i("5a25"),height:"28",width:"28"}}):r("span",[t._v(t._s(n.z))])])})),0)})),0)])},o=[],c=(i("c740"),i("4160"),i("a434"),i("159b"),i("b85c")),u={data:function(){return{miniCount:10,miniAry:[],numAry:[],dataAry:[],spaceAry:[],spaceAryFinish:[],boom:!1,win:!1,timer:0,timeStart:0}},mounted:function(){this.restart()},methods:{restart:function(){this.clearArray(),this.createSpace(),this.setMiniAry(),this.setNumberAry(),this.reSet()},createSpace:function(){for(var t=0;t<9;t++){for(var n=[],i=0;i<9;i++)n.push({x:t,y:i,z:" "});this.dataAry.push(n)}},setMiniAry:function(){var t=this,n=function(t,n){return{row:t,col:n}},i=function(){var i=Math.floor(10*Math.random()),r=Math.floor(10*Math.random());i<t.miniCount-1&&r<t.miniCount-1&&-1==t.miniAry.findIndex((function(t){return t.row==i&&t.col==r}))&&t.miniAry.push(n(i,r))};while(this.miniAry.length<this.miniCount)i()},setNumberAry:function(){var t,n=Object(c["a"])(this.miniAry);try{for(n.s();!(t=n.n()).done;)for(var i=t.value,r=-1;r<2;r++)if(i.row+r>-1&&i.row+r<9)for(var e=-1;e<2;e++)0==r&&0==e||i.col+e>-1&&i.col+e<9&&this.numAry.push({x:i.row+r,y:i.col+e,z:0})}catch(s){n.e(s)}finally{n.f()}},reSet:function(){var t=[];this.numAry.forEach((function(n){var i=t.findIndex((function(t){return t.x==n.x&&t.y==n.y}));if(-1==i)t.push({x:n.x,y:n.y,z:1});else{var r=t[i].z+1;t.splice(i,1,{x:n.x,y:n.y,z:r})}})),this.numAry=t},clickResult:function(t,n){0==this.timer&&(this.timeStart=setInterval(this.plusTimer,1e3)),this.dataAry[t][n].z="";var i=this.miniAry.findIndex((function(i){return i.row==t&&i.col==n})),r=this.numAry.findIndex((function(i){return i.x==t&&i.y==n}));if(-1!=i)"p"!=this.dataAry[t][n].z&&(this.stopTimer(),this.dataAry[t].splice(n,1,{x:t,y:n,z:"X"}),this.boom=!0);else if(-1==r){if(-1==this.spaceAryFinish.findIndex((function(i){return i.x==t&&i.y==n}))){this.spaceAry.push({x:t,y:n});do{this.openSpace(this.spaceAry[this.spaceAry.length-1].x,this.spaceAry[this.spaceAry.length-1].y)}while(this.spaceAry.length>0)}}else this.dataAry[t].splice(n,1,{x:t,y:n,z:String(this.numAry[r].z)})},openSpace:function(t,n){var i=this,r=this.spaceAry.pop();this.spaceAryFinish.push({x:r.x,y:r.y});for(var e=function(r){if(t+r>-1&&t+r<9)for(var e=function(e){if(n+e>-1&&n+e<9&&-1==i.spaceAryFinish.findIndex((function(i){return i.x==t+r&&i.y==n+e}))){var s=i.numAry.findIndex((function(i){return i.x==t+r&&i.y==n+e}));-1==s?(i.spaceAry.push({x:t+r,y:n+e}),i.dataAry[t+r][n+e].z=""):i.dataAry[t+r].splice(n+e,1,{x:t+r,y:n+e,z:String(i.numAry[s].z)})}},s=-1;s<2;s++)e(s)},s=-1;s<2;s++)e(s)},flag:function(t,n){" "==this.dataAry[t][n].z&&this.miniCount>0?-1==this.spaceAryFinish.findIndex((function(i){return i.x==t&&i.y==n}))&&(this.dataAry[t].splice(n,1,{x:t,y:n,z:"p"}),this.miniCount--,0==this.miniCount&&this.finshGame()):"p"==this.dataAry[t][n].z&&(this.dataAry[t].splice(n,1,{x:t,y:n,z:" "}),this.miniCount++)},finshGame:function(){for(var t=this,n=!1,i=function(i){for(var r=function(r){"p"==t.dataAry[i][r].z&&-1==t.miniAry.findIndex((function(n){return n.row==t.dataAry[i][r].x&&n.col==t.dataAry[i][r].y}))&&(t.stopTimer(),t.boom=!0,n=!0)},e=0;e<t.dataAry[0].length;e++)r(e)},r=0;r<this.dataAry.length;r++)i(r);n||(this.stopTimer(),this.win=!0)},clearArray:function(){this.miniAry.splice(0,this.miniAry.length),this.numAry.splice(0,this.numAry.length),this.dataAry.splice(0,this.dataAry.length),this.spaceAry.splice(0,this.spaceAry.length),this.spaceAryFinish.splice(0,this.spaceAryFinish.length),this.boom=!1,this.win=!1,this.miniCount=10,this.timer=0,this.timeStart=0},plusTimer:function(){this.timer++},stopTimer:function(){clearInterval(this.timeStart)}},computed:{}},f=u,h=(i("f9ef"),i("2877")),l=Object(h["a"])(f,a,o,!1,null,"b2f1e494",null),p=l.exports,y={name:"App",components:{Mini:p}},d=y,m=(i("034f"),Object(h["a"])(d,e,s,!1,null,null,null)),A=m.exports;r["a"].config.productionTip=!1,new r["a"]({render:function(t){return t(A)}}).$mount("#app")},"5a25":function(t,n,i){t.exports=i.p+"img/flag.78ae8bc5.png"},"85ec":function(t,n,i){},a6a1:function(t,n,i){t.exports=i.p+"img/win.df5799b2.jpg"},f9ef:function(t,n,i){"use strict";var r=i("2cfa"),e=i.n(r);e.a}});
//# sourceMappingURL=app.38cec1c0.js.map